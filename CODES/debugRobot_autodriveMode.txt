//CREATED TO DEBUG THE AUTODRIVE MODE ---- Kufirre Ebong, 18/09/2019

void autoDrive()
{
  static unsigned long prevMillis = 0l;
  unsigned long currentMillis = millis();

  int leftInterval = 1500;
  int stopInterval_a = 3000;
  int rightInterval = 4500;
  int stopInterval_b = 6000;
  int lastInterval = 7500;

  float dist1;
  float dist2;
  float dist3;

  //Serial.println("autoDrive function entered!***"); -----> for debugging
  
  //read distance from the ultrasonic sensor 
  dist1 = obstacle(); 
  
  if (dist1 < 35)
  {
    //buzzer();
    //Stop();
    Serial.println("first condition met");

    if (currentMillis - prevMillis < leftInterval)
    {
      //turn ultrasonic sensor left immediately
      //left();
      //Serial.println("turned left here...1"); -----> for debugging
    }

    if (currentMillis - prevMillis > leftInterval) {

      if (currentMillis - prevMillis < stopInterval_a)
      {
        //pause here to read left_distance
        //Stop();
        dist2 = obstacle();             //read distance from the ultrasonic sensor 
        //Serial.println("stopped here to read left_distance...2"); -----> for debugging
      }

      if (currentMillis - prevMillis > stopInterval_a && currentMillis - prevMillis < rightInterval)
      {
        //turn the ultrasonic sensor rigt here
        //right();
        //Serial.println("turned right here....3"); -----> for debugging
      }

      if (currentMillis - prevMillis > rightInterval && currentMillis - prevMillis < stopInterval_b)
      {
        //pause here to read the right distance
        //      Stop();
        //dist3 = obstacle();
        //Serial.println("Stopped here to read right_distance...4"); -----> for debugging
      }

      if (currentMillis - prevMillis > stopInterval_b && currentMillis - prevMillis < lastInterval)
      {
        //Stop();

        //reset prevMillis
        prevMillis = currentMillis;

        //read forward distance
        dist3 = obstacle();
        
        //Serial.println("stopped here to finish reading distances, make a deecision and reset intervals....5"); -----> for debugging
      }

      if (currentMillis - prevMillis >= lastInterval)
        prevMillis = currentMillis;

    }
  }
  //if the distance is no more less than the set obstacle threshold
  else
  {
    prevMillis = 0;
    //move forward here
    Serial.println("moving forward here-------->"); //-----> for debugging
  }
  
  //Serial.println(obstacle()); -----> for debugging
}//END Autodrive